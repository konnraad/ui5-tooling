import{_ as s,c as a,o as i,a4 as e}from"./chunks/framework.CDhG2y9Q.js";const E=JSON.parse('{"title":"UI5 Workspaces","description":"","frontmatter":{},"headers":[],"relativePath":"docs/Workspace.md","filePath":"docs/Workspace.md"}'),t={name:"docs/Workspace.md"},n=e(`<h1 id="ui5-workspaces" tabindex="-1">UI5 Workspaces <a class="header-anchor" href="#ui5-workspaces" aria-label="Permalink to &quot;UI5 Workspaces&quot;">​</a></h1><div class="tip custom-block github-alert"><p class="custom-block-title">Info</p><p><strong>UI5 Workspaces is a new feature available since UI5 CLI <a href="https://github.com/SAP/ui5-cli/releases/tag/v3.0.0" target="_blank" rel="noreferrer"><code>v3.0.0</code></a></strong></p></div><div class="important custom-block github-alert"><p class="custom-block-title">Example</p><p><strong>ui5-workspace.yaml</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yaml title=&quot;ui5-workspace.yaml&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">specVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">workspace/1.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependencyManagement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   resolutions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../heavy.library</span></span></code></pre></div></div><h2 id="general-concept" tabindex="-1">General Concept <a class="header-anchor" href="#general-concept" aria-label="Permalink to &quot;General Concept&quot;">​</a></h2><p>UI5 Workspaces can be used to create a personalized local development environment for a UI5 project. They allow to use UI5 dependencies from local directories without the need to use the link features of package managers like npm. &quot;UI5 dependencies&quot; generally refers to projects that have a <code>ui5.yaml</code>.</p><p>Workspaces are typically configured in a <code>ui5-workspace.yaml</code> file, located next to the project&#39;s <code>ui5.yaml</code>. The file can contain one or many workspace configurations, each separated by <a href="https://yaml.org/spec/1.2.2/#22-structures" target="_blank" rel="noreferrer">three dashes</a>. For example:</p><div class="important custom-block github-alert"><p class="custom-block-title">Example</p><p><strong>ui5-workspace.yaml</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">specVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">workspace/1.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependencyManagement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   resolutions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  	    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../heavy.library</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">specVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">workspace/1.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">extended</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependencyManagement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   resolutions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  	    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../heavy.library</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  	    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../light.library</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  	    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../test.library</span></span></code></pre></div></div><p>If a workspace configuration named <code>default</code> exists, it will be used automatically; otherwise the workspace must be specified using the UI5 CLI parameter <code>--workspace</code>.</p><p>Workspaces can only be used in the project that is currently being worked on, i.e. the current root project. Workspace configurations of dependencies are ignored. The workspace file, however, does not necessarily have to be located within the project. You can reference any workspace configuration file via the UI5 CLI parameter <code>--workspace-config</code>.</p><p>This concept has been discussed in an RFC: <a href="https://github.com/SAP/ui5-tooling/blob/main/rfcs/0006-local-dependency-resolution.md" target="_blank" rel="noreferrer">RFC 0006 Local Dependency Resolution</a></p><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>A UI5 Workspace configuration must define a specification version (<code>specVersion</code>) compatible with its configuration. For more information, see <a href="#workspace-specification-versions">Workspace Specification Versions</a>.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">specVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace/1.0&quot;</span></span></code></pre></div><h3 id="metadata" tabindex="-1">Metadata <a class="header-anchor" href="#metadata" aria-label="Permalink to &quot;Metadata&quot;">​</a></h3><div class="important custom-block github-alert"><p class="custom-block-title">Example</p><p></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">specVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">workspace/1.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dolphin</span></span></code></pre></div></div><h4 id="name" tabindex="-1">name <a class="header-anchor" href="#name" aria-label="Permalink to &quot;name&quot;">​</a></h4><p>A workspace must have a <code>name</code>. This allows to easily switch between individual workspace configurations.</p><p>If a workspace is named <code>default</code>, <strong>it will be used automatically</strong>, unless a different workspace is selected using the <code>--workspace</code> CLI parameter.</p><p>The <code>name</code> property must satisfy the following conditions. They are identical to <a href="./Configuration.html#name">project names</a>:</p><ul><li>Must be at least 3 characters long</li><li>Must be no longer than 80 characters</li><li>Must contain lowercase characters only</li><li>Must contain alphanumeric characters, dash, underscore and period only <ul><li>Exception: The <code>@</code> and <code>/</code> characters are allowed at certain positions as explained below</li></ul></li><li>Must start with an alphabetic character or an <code>@</code> character</li><li>If it starts with an <code>@</code> character, it must contain exactly one forward slash <code>/</code><ul><li>This is aligned with the npm concept for package scopes, for example <code>@org/lib.name</code></li></ul></li></ul><h2 id="dependency-management" tabindex="-1">Dependency Management <a class="header-anchor" href="#dependency-management" aria-label="Permalink to &quot;Dependency Management&quot;">​</a></h2><p>UI5 Workspace configurations allow to influence the dependency resolution when working with a UI5 project.</p><div class="important custom-block github-alert"><p class="custom-block-title">Example</p><p></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">specVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">workspace/1.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dolphin</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependencyManagement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">	resolutions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  		- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../light.library</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  		- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../heavy.library</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  		- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../test.library</span></span></code></pre></div></div><h3 id="resolutions" tabindex="-1">Resolutions <a class="header-anchor" href="#resolutions" aria-label="Permalink to &quot;Resolutions&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependencyManagement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">   	resolutions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       	- </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">../test.library</span></span></code></pre></div><p>Resolution paths will be used by UI5 Tooling to look for project dependencies. Any dependencies found via these paths will be used over the ones found with the regular dependency resolution mechanism. This includes UI5 Tooling extensions.</p><p>Paths must point to a directory containing a <code>package.json</code>. UI5 Tooling will attempt to find a UI5 project here. However, if the <code>package.json</code> contains a <a href="https://docs.npmjs.com/cli/v8/using-npm/workspaces" target="_blank" rel="noreferrer"><code>workspaces</code></a>, or equivalently, <code>ui5.workspaces</code> configuration (which overrules the first), UI5 Tooling will resolve the workspace first and attempt to find UI5 projects in the configured &quot;npm workspaces&quot;. This is commonly used in mono-repos. An example can be found in the <a href="https://github.com/SAP/openui5/blob/b4267488e5d3546de4cd9577ccac4208482d71e0/package.json#L130-L132" target="_blank" rel="noreferrer">OpenUI5 repository</a>.</p><p>Paths must be written in POSIX (i.e. using only forward slashes <code>/</code> as path segment separators) and must be <strong>relative to the workspace configuration file</strong>. Absolute paths, or paths relative to the home directory (<code>~</code>), are not allowed. This is to ensure that workspace configuration files are easy to share and to reduce the chance of them exposing sensitive information like user names or large directory hierarchies. Symbolic links are followed.</p><p>Note that this configuration only affects the resolution of dependencies which have already been found during the regular dependency resolution process of a project. For example, if a workspace resolution path resolves to a project that would otherwise not be part of the dependency tree of the current root project, it will not be added to the dependency tree. Also, transitive dependencies of resolved projects are not being followed.</p><h2 id="workspace-specification-versions" tabindex="-1">Workspace Specification Versions <a class="header-anchor" href="#workspace-specification-versions" aria-label="Permalink to &quot;Workspace Specification Versions&quot;">​</a></h2><p>A workspace configuration must define a Specification Version by setting the <code>specVersion</code> property. UI5 Tooling uses this information to detect whether the currently installed version is compatible with a workspace&#39;s configuration.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">specVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;workspace/1.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>To use new features, a workspace configuration might need to update the <code>specVersion</code> property.</p><p>For a given Specification Version &quot;workspace/<strong>MAJOR.MINOR</strong>&quot;&quot; we will increment:</p><ol><li><strong>MAJOR</strong> when there are breaking changes that might require additional actions by the project&#39;s maintainer</li><li><strong>MINOR</strong> when adding new features that are fully backward-compatible</li></ol><p>All changes are documented below.</p><h3 id="compatibility-matrix" tabindex="-1">Compatibility Matrix <a class="header-anchor" href="#compatibility-matrix" aria-label="Permalink to &quot;Compatibility Matrix&quot;">​</a></h3><p>Unless otherwise noted in the table below, UI5 Tooling modules are backward-compatible.</p><table tabindex="0"><thead><tr><th>Version</th><th>UI5 CLI Release</th></tr></thead><tbody><tr><td><strong><code>workspace/1.0</code></strong></td><td>v3.0.0+</td></tr></tbody></table><h3 id="specification-version-workspace-1-0" tabindex="-1">Specification Version <code>workspace/1.0</code> <a class="header-anchor" href="#specification-version-workspace-1-0" aria-label="Permalink to &quot;Specification Version \`workspace/1.0\`&quot;">​</a></h3><p>Initial version.</p><p>Specification Version <code>workspace/1.0</code> configurations are compatible with <a href="https://github.com/SAP/ui5-cli" target="_blank" rel="noreferrer">UI5 CLI</a> v3.0.0 and above.</p>`,42),l=[n];function o(p,r,h,c,k,d){return i(),a("div",null,l)}const u=s(t,[["render",o]]);export{E as __pageData,u as default};
